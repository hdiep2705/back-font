{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ZB15g3/Desktop/Phone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import MessageBox from'../components/MessageBox';import{addToCart}from'../actions/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CartScreen(props){var productId=props.match.params.id;var qty=props.location.search?Number(props.location.search.split('=')[1]):1;var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var dispatch=useDispatch();useEffect(function(){if(productId){dispatch(addToCart(productId,qty));}},[dispatch,productId,qty]);var remoFromCartHandler=function remoFromCartHandler(id){//delete actiom\ndispatch();};return/*#__PURE__*/_jsx(\"div\",{className:\"row top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),cartItems.length===0?/*#__PURE__*/_jsxs(MessageBox,{children:[\"Cart is empty. \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Shopping\"})]}):/*#__PURE__*/_jsx(\"ul\",{children:cartItems.map(function(item){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"min-30\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:item.qty,onChange:function onChange(e){return dispatch(addToCart(item.product,Number(e.target.value)));},children:_toConsumableArray(Array(item.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return remoFromCartHandler(item.product);},children:\"Delete\"})})]})},item.product);})})]})});}","map":{"version":3,"sources":["C:/Users/ZB15g3/Desktop/Phone/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","MessageBox","addToCart","CartScreen","props","productId","match","params","id","qty","location","search","Number","split","cart","state","cartItems","dispatch","remoFromCartHandler","length","map","item","image","name","product","e","target","value","Array","countInStock","keys","x","price"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAASC,SAAT,KAA0B,wBAA1B,C,wFAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACtC,GAAMC,CAAAA,SAAS,CAAGD,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBC,EAArC,CACA,GAAMC,CAAAA,GAAG,CAAGL,KAAK,CAACM,QAAN,CAAeC,MAAf,CACRC,MAAM,CAACR,KAAK,CAACM,QAAN,CAAeC,MAAf,CAAsBE,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAD,CADE,CAER,CAFJ,CAGJ,GAAMC,CAAAA,IAAI,CAAGf,WAAW,CAAC,SAACgB,KAAD,QAAUA,CAAAA,KAAK,CAACD,IAAhB,EAAD,CAAxB,CAL0C,GAMnCE,CAAAA,SANmC,CAMtBF,IANsB,CAMnCE,SANmC,CAQ1C,GAAMC,CAAAA,QAAQ,CAAGnB,WAAW,EAA5B,CACAD,SAAS,CAAC,UAAK,CACX,GAAGQ,SAAH,CAAa,CACTY,QAAQ,CAACf,SAAS,CAACG,SAAD,CAAYI,GAAZ,CAAV,CAAR,CACP,CACA,CAJQ,CAIN,CAACQ,QAAD,CAAWZ,SAAX,CAAsBI,GAAtB,CAJM,CAAT,CAKA,GAAMS,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACV,EAAD,CAAQ,CAChC;AACAS,QAAQ,GACX,CAHD,CAKI,mBACI,YAAK,SAAS,CAAE,SAAhB,uBACI,aAAK,SAAS,CAAC,OAAf,wBACI,qCADJ,CAEKD,SAAS,CAACG,MAAV,GAAqB,CAArB,cACD,MAAC,UAAD,2CACmB,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,yBADnB,GADC,cAKD,oBAEAH,SAAS,CAACI,GAAV,CAAc,SAACC,IAAD,qBAChB,iCACE,aAAK,SAAS,CAAC,KAAf,wBACE,kCACE,YAAK,GAAG,CAAEA,IAAI,CAACC,KAAf,CACA,GAAG,CAAED,IAAI,CAACE,IADV,CAEE,SAAS,CAAC,OAFZ,EADF,EADF,cAOE,YAAK,SAAS,CAAC,QAAf,uBACE,KAAC,IAAD,EAAM,EAAE,oBAAcF,IAAI,CAACG,OAAnB,CAAR,UAAuCH,IAAI,CAACE,IAA5C,EADF,EAPF,cAUE,kCACE,eACE,KAAK,CAAEF,IAAI,CAACZ,GADd,CAEE,QAAQ,CAAE,kBAACgB,CAAD,QACRR,CAAAA,QAAQ,CACNf,SAAS,CAACmB,IAAI,CAACG,OAAN,CACPZ,MAAM,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CADC,CADH,CADA,EAFZ,UASE,mBAAIC,KAAK,CAACP,IAAI,CAACQ,YAAN,CAAL,CAAyBC,IAAzB,EAAJ,EAAqCV,GAArC,CACF,SAACW,CAAD,qBACC,eAAoB,KAAK,CAAEA,CAAC,CAAG,CAA/B,UACCA,CAAC,CAAG,CADL,EAAaA,CAAC,CAAG,CAAjB,CADD,EADE,CATF,EADF,EAVF,cA6BO,2BAAOV,IAAI,CAACW,KAAZ,GA7BP,cA8BO,kCACC,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMd,CAAAA,mBAAmB,CAACG,IAAI,CAACG,OAAN,CAAzB,EAA/B,oBADD,EA9BP,GADF,EAASH,IAAI,CAACG,OAAd,CADgB,EAAd,CAFA,EAPJ,GADJ,EADJ,CA2DC","sourcesContent":["import React, { useEffect } from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { addToCart } from '../actions/cartActions';\r\n\r\nexport default function CartScreen(props) {\r\n    const productId = props.match.params.id;\r\n    const qty = props.location.search\r\n      ? Number(props.location.search.split('=')[1])\r\n      : 1;\r\nconst cart = useSelector((state) =>state.cart);\r\nconst {cartItems} = cart;\r\n\r\nconst dispatch = useDispatch();\r\nuseEffect(() =>{\r\n    if(productId){\r\n        dispatch(addToCart(productId, qty));\r\n} \r\n}, [dispatch, productId, qty]);\r\nconst remoFromCartHandler = (id)  =>{\r\n    //delete actiom\r\n    dispatch();\r\n};\r\n\r\n    return (\r\n        <div className= \"row top\">\r\n            <div className=\"col-2\">\r\n                <h1>Shopping Cart</h1>\r\n                {cartItems.length === 0?(\r\n                <MessageBox>\r\n                    Cart is empty. <Link to= \"/\">Go Shopping</Link>\r\n                </MessageBox>\r\n                    ):(\r\n                <ul>\r\n                {\r\n                cartItems.map((item) => (\r\n              <li key={item.product}>\r\n                <div className=\"row\">\r\n                  <div>\r\n                    <img src={item.image} \r\n                    alt={item.name}\r\n                      className=\"small\"\r\n                    ></img>\r\n                  </div>\r\n                  <div className=\"min-30\">\r\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                  </div>\r\n                  <div>\r\n                    <select\r\n                      value={item.qty}\r\n                      onChange={(e) =>\r\n                        dispatch(\r\n                          addToCart(item.product, \r\n                            Number(e.target.value))\r\n                        )\r\n                      }\r\n                     >\r\n                     {[...Array(item.countInStock).keys()].map(\r\n                    (x) => (\r\n                     <option key={x + 1} value={x + 1}>\r\n                     {x + 1}\r\n                    </option>\r\n                     )\r\n                    )}\r\n                     </select>\r\n                     </div>\r\n                       <div>${item.price}</div>\r\n                       <div>\r\n                        <button type=\"button\" onClick={() => remoFromCartHandler(item.product)}\r\n                        >\r\n                        Delete\r\n                     </button>\r\n                     </div>\r\n                     </div>\r\n                     </li>\r\n             ))}\r\n         </ul>\r\n         )    \r\n    }\r\n        </div>\r\n        </div>\r\n            \r\n    );\r\n    }\r\n"]},"metadata":{},"sourceType":"module"}