{"ast":null,"code":"var _jsxFileName = \"C:\\\\workspace-2\\\\help\\\\back-font\\\\frontend\\\\src\\\\screens\\\\CartScreen.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport MessageBox from '../components/MessageBox';\nimport { addToCart } from '../actions/cartActions';\nexport default function CartScreen(props) {\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const remoFromCartHandler = id => {\n    //delete actiom\n    dispatch();\n  };\n\n  const loadItem = cartItem => {\n    if (cartItem.length <= 0) return;\n    let result = null;\n    result = cartItems.map(item => {\n      if (!item) {\n        return;\n      }\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: item.product,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.image,\n        alt: item.name,\n        className: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"min-30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/product/${item.product}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 8\n        }\n      }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        value: item.qty,\n        onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 8\n        }\n      }, [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n        key: x + 1,\n        value: x + 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, x + 1)))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }, \"$\", item.price), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => remoFromCartHandler(item.product),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 8\n        }\n      }, \"Delete\"))));\n    });\n    return result;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }\n  }, \"Cart is empty. \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 22\n    }\n  }, \"Go Shopping\")) : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, loadItem(cartItems))));\n}","map":{"version":3,"sources":["C:/workspace-2/help/back-font/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","MessageBox","addToCart","CartScreen","props","productId","match","params","id","qty","location","search","Number","split","cart","state","cartItems","dispatch","remoFromCartHandler","loadItem","cartItem","length","result","map","item","product","image","name","e","target","value","Array","countInStock","keys","x","price"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { addToCart } from '../actions/cartActions';\r\n\r\nexport default function CartScreen(props) {\r\n\tconst productId = props.match.params.id;\r\n\tconst qty = props.location.search\r\n\t\t? Number(props.location.search.split('=')[1])\r\n\t\t: 1;\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems } = cart;\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tif (productId) {\r\n\t\t\tdispatch(addToCart(productId, qty));\r\n\t\t}\r\n\t}, [dispatch, productId, qty]);\r\n\tconst remoFromCartHandler = (id) => {\r\n\t\t//delete actiom\r\n\t\tdispatch();\r\n\t};\r\n\tconst loadItem = (cartItem) => {\r\n\t\tif (cartItem.length <= 0) return;\r\n\r\n\t\tlet result = null\r\n\t\tresult = cartItems.map((item) => {\r\n\t\t\tif (!item) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<li key={item.product}>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img src={item.image}\r\n\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\tclassName=\"small\"\r\n\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"min-30\">\r\n\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\taddToCart(item.product,\r\n\t\t\t\t\t\t\t\t\t\t\tNumber(e.target.value))\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{[...Array(item.countInStock).keys()].map(\r\n\t\t\t\t\t\t\t\t\t(x) => (\r\n\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>${item.price}</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<button type=\"button\" onClick={() => remoFromCartHandler(item.product)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDelete\r\n</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\r\n\t\t\t)\r\n\t\t}\r\n\t\t)\r\n\t\treturn result;\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"row top\">\r\n\t\t\t<div className=\"col-2\">\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<MessageBox>\r\n\t\t\t\t\t\tCart is empty. <Link to=\"/\">Go Shopping</Link>\r\n\t\t\t\t\t</MessageBox>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tloadItem(cartItems)\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}